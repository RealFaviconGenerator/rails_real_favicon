# This file was generated by rails_favicon_generator, from
# https://realfavicongenerator.net/

# It makes files with .webmanifest extension and browserconfig.xml file (which
# customizes IE 11th tiles) first class files in the asset pipeline.
# This is to preserve this extension, as is it referenced in a call
# to asset_path in the _favicon.html.erb partial.

Rails.application.config.assets.configure do |env|
  webmanifest_mime_type = 'application/manifest+json'
  webmanifest_extensions = ['.webmanifest']
  browserconfig_mime_type = 'application/xml'
  browserconfig_extensions = ['.xml']

  if Sprockets::VERSION.to_i >= 4
    env.register_preprocessor(webmanifest_mime_type, Sprockets::ERBProcessor)
    webmanifest_extensions << '.webmanifest.erb'
    env.register_preprocessor(browserconfig_mime_type, Sprockets::ERBProcessor)
    browserconfig_extensions << '.xml.erb'
  end

  env.register_mime_type(webmanifest_mime_type, extensions: webmanifest_extensions)
  env.register_mime_type(browserconfig_mime_type, extensions: browserconfig_extensions)
end
